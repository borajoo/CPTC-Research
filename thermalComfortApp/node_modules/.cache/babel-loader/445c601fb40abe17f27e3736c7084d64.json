{"ast":null,"code":"import _regeneratorRuntime from\"/Users/gabehyun/Desktop/classes/ThermalComfort/CPTC-Research/thermalComfortApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/gabehyun/Desktop/classes/ThermalComfort/CPTC-Research/thermalComfortApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/gabehyun/Desktop/classes/ThermalComfort/CPTC-Research/thermalComfortApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import\"./Login.css\";import BaseButton from\"../../components/BaseButton/BaseButton\";import BaseInputField from\"../../components/BaseInputField/BaseInputField\";import{toast}from'../../toast';import CP_logo_CMYK_grn from'../../assets/CP_logo_CMYK_grn.jpg';import{useAuth}from\"../../contexts/AuthContext\";var Login=function Login(_ref){var history=_ref.history;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useAuth=useAuth(),login=_useAuth.login;function handleLogin(){return _handleLogin.apply(this,arguments);}function _handleLogin(){_handleLogin=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return login(email,password);case 3:history.push(\"/home\");_context.next=9;break;case 6:_context.prev=6;_context.t0=_context[\"catch\"](0);toast(\"Error logging in: \".concat(_context.t0));case 9:case\"end\":return _context.stop();}}},_callee,null,[[0,6]]);}));return _handleLogin.apply(this,arguments);}function goRegister(){history.push({pathname:'/register'});}return/*#__PURE__*/React.createElement(\"div\",{className:\"login-page-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"login-container\"},/*#__PURE__*/React.createElement(\"img\",{src:CP_logo_CMYK_grn,alt:\"Cal Poly Logo\"}),/*#__PURE__*/React.createElement(\"h1\",null,\"Thermal Comfort\"),/*#__PURE__*/React.createElement(\"div\",{className:\"login-input\"},/*#__PURE__*/React.createElement(BaseInputField,{width:window.innerWidth<=800?'300px':'350px',value:email,label:'Email',iduser:'email',password:false,onChange:function onChange(e){return setEmail(e.target.value);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"login-input\",style:{marginBottom:'5px'}},/*#__PURE__*/React.createElement(BaseInputField,{width:window.innerWidth<=800?'300px':'350px',value:password,label:'Password',iduser:'password',password:true,onChange:function onChange(e){return setPassword(e.target.value);}})),/*#__PURE__*/React.createElement(\"a\",{className:\"forgot-pass\",href:\"/resetPassword\"},\"Forgot password?\"),/*#__PURE__*/React.createElement(\"div\",{className:\"login-button\"},/*#__PURE__*/React.createElement(BaseButton,{onClick:handleLogin,width:window.innerWidth<=800?'300px':'350px'},\"Login\")),/*#__PURE__*/React.createElement(\"div\",{className:\"new-user\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"register-button\"},/*#__PURE__*/React.createElement(BaseButton,{className:\"login-button\",onClick:goRegister,width:window.innerWidth<=800?'300px':'350px'},\"Register\"))));};export default Login;","map":{"version":3,"sources":["/Users/gabehyun/Desktop/classes/ThermalComfort/CPTC-Research/thermalComfortApp/src/Pages/Login/Login.tsx"],"names":["React","useState","BaseButton","BaseInputField","toast","CP_logo_CMYK_grn","useAuth","Login","history","email","setEmail","password","setPassword","login","handleLogin","push","goRegister","pathname","window","innerWidth","e","target","value","marginBottom"],"mappings":"4kBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAO,aAAP,CACA,MAAOC,CAAAA,UAAP,KAAuB,wCAAvB,CACA,MAAOC,CAAAA,cAAP,KAA2B,gDAA3B,CAEA,OAASC,KAAT,KAAsB,aAAtB,CACA,MAAOC,CAAAA,gBAAP,KAA6B,mCAA7B,CACA,OAASC,OAAT,KAAwB,4BAAxB,CAEA,GAAMC,CAAAA,KAAoC,CAAG,QAAvCA,CAAAA,KAAuC,MAAe,IAAbC,CAAAA,OAAa,MAAbA,OAAa,eAChCP,QAAQ,CAAC,EAAD,CADwB,wCACnDQ,KADmD,eAC5CC,QAD4C,8BAE1BT,QAAQ,CAAC,EAAD,CAFkB,yCAEnDU,QAFmD,eAEzCC,WAFyC,4BAGxCN,OAAO,EAHiC,CAGlDO,KAHkD,UAGlDA,KAHkD,SAK3CC,CAAAA,WAL2C,2IAK1D,yKAEUD,CAAAA,KAAK,CAACJ,KAAD,CAAQE,QAAR,CAFf,QAGIH,OAAO,CAACO,IAAR,CAAa,OAAb,EAHJ,8EAKIX,KAAK,0CAAL,CALJ,mEAL0D,8CAc1D,QAASY,CAAAA,UAAT,EAAsB,CACpBR,OAAO,CAACO,IAAR,CAAa,CACXE,QAAQ,CAAE,WADC,CAAb,EAGD,CAED,mBACE,2BAAK,SAAS,CAAC,sBAAf,eACE,2BAAK,SAAS,CAAC,iBAAf,eACE,2BAAK,GAAG,CAAEZ,gBAAV,CAA4B,GAAG,CAAC,eAAhC,EADF,cAEE,gDAFF,cAGI,2BAAK,SAAS,CAAC,aAAf,eACE,oBAAC,cAAD,EACE,KAAK,CAAEa,MAAM,CAACC,UAAP,EAAqB,GAArB,CAA2B,OAA3B,CAAqC,OAD9C,CAEE,KAAK,CAAEV,KAFT,CAGE,KAAK,CAAE,OAHT,CAIE,MAAM,CAAE,OAJV,CAKE,QAAQ,CAAE,KALZ,CAME,QAAQ,CAAE,kBAACW,CAAD,QAAYV,CAAAA,QAAQ,CAACU,CAAC,CAACC,MAAF,CAASC,KAAV,CAApB,EANZ,EADF,CAHJ,cAaI,2BAAK,SAAS,CAAC,aAAf,CAA6B,KAAK,CAAE,CAACC,YAAY,CAAE,KAAf,CAApC,eACE,oBAAC,cAAD,EACE,KAAK,CAAEL,MAAM,CAACC,UAAP,EAAqB,GAArB,CAA2B,OAA3B,CAAqC,OAD9C,CAEE,KAAK,CAAER,QAFT,CAGE,KAAK,CAAE,UAHT,CAIE,MAAM,CAAE,UAJV,CAKE,QAAQ,CAAE,IALZ,CAME,QAAQ,CAAE,kBAACS,CAAD,QAAYR,CAAAA,WAAW,CAACQ,CAAC,CAACC,MAAF,CAASC,KAAV,CAAvB,EANZ,EADF,CAbJ,cAuBI,yBAAG,SAAS,CAAC,aAAb,CAA2B,IAAI,CAAC,gBAAhC,qBAvBJ,cAwBI,2BAAK,SAAS,CAAC,cAAf,eACE,oBAAC,UAAD,EAAY,OAAO,CAAER,WAArB,CAAkC,KAAK,CAAEI,MAAM,CAACC,UAAP,EAAqB,GAArB,CAA2B,OAA3B,CAAqC,OAA9E,UADF,CAxBJ,cA2BI,2BAAK,SAAS,CAAC,UAAf,EA3BJ,cA4BI,2BAAK,SAAS,CAAC,iBAAf,eACE,oBAAC,UAAD,EAAY,SAAS,CAAC,cAAtB,CAAqC,OAAO,CAAEH,UAA9C,CAA0D,KAAK,CAAEE,MAAM,CAACC,UAAP,EAAqB,GAArB,CAA2B,OAA3B,CAAqC,OAAtG,aADF,CA5BJ,CADF,CADF,CAqCD,CAzDD,CA2DA,cAAeZ,CAAAA,KAAf","sourcesContent":["import React, { useState } from 'react';\nimport \"./Login.css\";\nimport BaseButton from \"../../components/BaseButton/BaseButton\";\nimport BaseInputField from \"../../components/BaseInputField/BaseInputField\";\nimport { RouteComponentProps } from 'react-router';\nimport { toast } from '../../toast';\nimport CP_logo_CMYK_grn from '../../assets/CP_logo_CMYK_grn.jpg';\nimport { useAuth } from \"../../contexts/AuthContext\";\n\nconst Login: React.FC<RouteComponentProps> = ({history}) => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const { login } = useAuth();\n\n  async function handleLogin() {\n    try {\n      await login(email, password);\n      history.push(\"/home\");\n    } catch (error) {\n      toast(`Error logging in: ${error}`);\n    }\n  }\n\n  function goRegister() {\n    history.push({\n      pathname: '/register'\n    });\n  }\n\n  return (\n    <div className=\"login-page-container\">\n      <div className=\"login-container\">\n        <img src={CP_logo_CMYK_grn} alt=\"Cal Poly Logo\" />\n        <h1>Thermal Comfort</h1>\n          <div className=\"login-input\">\n            <BaseInputField\n              width={window.innerWidth <= 800 ? '300px' : '350px'}\n              value={email}\n              label={'Email'}\n              iduser={'email'}\n              password={false}\n              onChange={(e: any) => setEmail(e.target.value)}\n            />\n          </div>\n          <div className=\"login-input\" style={{marginBottom: '5px'}}>\n            <BaseInputField\n              width={window.innerWidth <= 800 ? '300px' : '350px'}\n              value={password}\n              label={'Password'}\n              iduser={'password'}\n              password={true}\n              onChange={(e: any) => setPassword(e.target.value)}\n            />\n          </div>\n          <a className=\"forgot-pass\" href=\"/resetPassword\">Forgot password?</a>\n          <div className=\"login-button\">\n            <BaseButton onClick={handleLogin} width={window.innerWidth <= 800 ? '300px' : '350px'}>Login</BaseButton>\n          </div>\n          <div className=\"new-user\"></div>\n          <div className=\"register-button\">\n            <BaseButton className=\"login-button\" onClick={goRegister} width={window.innerWidth <= 800 ? '300px' : '350px'}>Register</BaseButton>\n          </div>\n      </div>\n    </div>\n  );\n\n};\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}