{"ast":null,"code":"import{IonContent,IonHeader,IonPage,IonTitle,IonToolbar,IonBackButton,IonItem,IonButtons,IonButton,IonInput,IonCard,IonCardHeader,IonCardContent,IonCardTitle,IonLabel,IonSelect,IonSelectOption}from'@ionic/react';import React from'react';import\"../style/Login.css\";import\"../style/Survey.css\";import{pushData}from'../firebaseConfig';var request=require('request');var Survey=function Survey(_ref){var history=_ref.history,location=_ref.location;var state=location.state;var surveyData={};var sensationOptions=[{id:1,first:'Cold'},{id:2,first:'Cool'},{id:3,first:'Slightly Cool'},{id:4,first:'Neutral'},{id:5,first:'Slightly Warm'},{id:6,first:'Warm'},{id:7,first:'Hot'}];var breezy=[\"Too breezy\",\"Slightly breezy\",\"Not breezy\"];var breezyOptions=[];for(var i=0;i<breezy.length;i++){breezyOptions.push({id:i+1,first:breezy[i]});}var humiditySensation=[\"Too dry\",\"Slightly dry\",\"Just right\",\"Slightly humid\",\"Too humid\"];var humiditySensationOptions=[];for(var _i=0;_i<humiditySensation.length;_i++){humiditySensationOptions.push({id:_i+1,first:humiditySensation[_i]});}var thermalPreference=[\"Cooler\",\"No Change\",\"Warmer\"];var thermalPreferenceOptions=[];for(var _i2=0;_i2<thermalPreference.length;_i2++){thermalPreferenceOptions.push({id:_i2+1,first:thermalPreference[_i2]});}var clothing=[\"Short-sleeve shirt\",\"Long-sleeve shirt\",\"Shorts\",\"Long pants\",\"Short skirt\",\"Long skirt\",\"Sweatpants\",\"Long-sleeve sweatshirt\",\"Jacket\",\"Typical summer indoor clothing\",\"Typical winter indoor clothing\"];var clothingOptions=[];for(var _i3=0;_i3<clothing.length;_i3++){clothingOptions.push({id:_i3+1,first:clothing[_i3]});}var recentAction=[\"Sitting\",\"Standing\",\"Walking\",\"Jogging\",\"Running\"];var recentActionOptions=[];for(var _i4=0;_i4<recentAction.length;_i4++){recentActionOptions.push({id:_i4+1,first:recentAction[_i4]});}function selectBuildingNumber(e){surveyData.buildingNumber=e.detail.value;}function selectRoomNumber(e){surveyData.roomNumber=e.detail.value;}function selectThermalSensation(e){surveyData.thermalSensation=e.detail.value;}function selectThermalPreference(e){surveyData.thermalPreference=e.detail.value;}function selectBreezy(e){surveyData.breezy=e.detail.value;}function selectHumiditySensation(e){surveyData.humiditySensation=e.detail.value;}function selectClothing(e){surveyData.clothing=e.detail.value;}function selectRecentAction(e){surveyData.recentAction=e.detail.value;}function postData(){if(state.uid){pushData(surveyData,state.uid);history.push('/surveyComplete');}}function getWeatherData(e){var apiKey='a28b0237f94d95bbd08c26352f7c7bdb';var city=e.detail.value;var url=\"http://api.openweathermap.org/data/2.5/weather?q=\".concat(city,\"&appid=\").concat(apiKey);request(url,function(err,response,body){if(err){return;}else{if(body.cod!==\"404\"){var weatherData=JSON.parse(body);if(weatherData.main){surveyData.temp=weatherData.main.temp;surveyData.windspeed=weatherData.wind.speed;surveyData.humidity=weatherData.main.humidity;}}}});}return/*#__PURE__*/React.createElement(IonPage,null,/*#__PURE__*/React.createElement(IonHeader,null,/*#__PURE__*/React.createElement(IonToolbar,null,/*#__PURE__*/React.createElement(IonButtons,{slot:\"start\"},/*#__PURE__*/React.createElement(IonBackButton,{defaultHref:\"/landingPage\"})),/*#__PURE__*/React.createElement(IonTitle,null,\"Survey\"))),/*#__PURE__*/React.createElement(IonContent,{className:\"ion-padding\"},/*#__PURE__*/React.createElement(IonCard,{className:\"surveyCard\"},/*#__PURE__*/React.createElement(IonCardHeader,null,/*#__PURE__*/React.createElement(IonCardTitle,null,\"Thermal Questions\")),/*#__PURE__*/React.createElement(IonCardContent,null,/*#__PURE__*/React.createElement(IonItem,null,/*#__PURE__*/React.createElement(IonLabel,{position:\"stacked\"},\" What building are you in?\"),/*#__PURE__*/React.createElement(IonInput,{placeholder:\"Input number (i.e. 01)\",inputmode:\"numeric\",onIonChange:function onIonChange(e){return selectBuildingNumber(e);}})),/*#__PURE__*/React.createElement(IonItem,null,/*#__PURE__*/React.createElement(IonLabel,{position:\"stacked\"},\" What room are you in? \"),/*#__PURE__*/React.createElement(IonInput,{placeholder:\"Input number (i.e. 0123)\",inputmode:\"numeric\",onIonChange:function onIonChange(e){return selectRoomNumber(e);}})),/*#__PURE__*/React.createElement(IonItem,null,/*#__PURE__*/React.createElement(IonLabel,{position:\"stacked\",className:\"questionLabel\"},\"How does the temperature feel? \"),/*#__PURE__*/React.createElement(IonSelect,{className:\"questionSelect\",placeholder:\"Select one\",onIonChange:function onIonChange(e){return selectThermalSensation(e);}},sensationOptions.map(function(object,i){return/*#__PURE__*/React.createElement(IonSelectOption,{onSelect:selectThermalSensation,key:i,value:object.first},object.first);}))),/*#__PURE__*/React.createElement(IonItem,null,/*#__PURE__*/React.createElement(IonLabel,{position:\"stacked\"},\" How would you prefer the temperature to feel? \"),/*#__PURE__*/React.createElement(IonSelect,{placeholder:\"Select one\",onIonChange:function onIonChange(e){return selectThermalPreference(e);}},thermalPreferenceOptions.map(function(object,i){return/*#__PURE__*/React.createElement(IonSelectOption,{key:i,value:object.first},object.first);}))),/*#__PURE__*/React.createElement(IonItem,null,/*#__PURE__*/React.createElement(IonLabel,{position:\"stacked\",className:\"surveyLabel\"},\" How breezy does it feel? \"),/*#__PURE__*/React.createElement(IonSelect,{placeholder:\"Select one\",onIonChange:function onIonChange(e){return selectBreezy(e);}},breezyOptions.map(function(object,i){return/*#__PURE__*/React.createElement(IonSelectOption,{key:i,value:object.first},object.first);}))),/*#__PURE__*/React.createElement(IonItem,null,/*#__PURE__*/React.createElement(IonLabel,{position:\"stacked\",className:\"surveyLabel\"},\" How humid do you feel? \"),/*#__PURE__*/React.createElement(IonSelect,{placeholder:\"Select one\",onIonChange:function onIonChange(e){return selectHumiditySensation(e);}},humiditySensationOptions.map(function(object,i){return/*#__PURE__*/React.createElement(IonSelectOption,{key:i,value:object.first},object.first);}))),/*#__PURE__*/React.createElement(IonItem,null,/*#__PURE__*/React.createElement(IonLabel,{position:\"stacked\"},\" What clothing are you wearing? \"),/*#__PURE__*/React.createElement(IonSelect,{multiple:true,placeholder:\"Select all that apply\",onIonChange:function onIonChange(e){return selectClothing(e);}},clothingOptions.map(function(object,i){return/*#__PURE__*/React.createElement(IonSelectOption,{key:i,value:object.first},object.first);}))),/*#__PURE__*/React.createElement(IonItem,null,/*#__PURE__*/React.createElement(IonLabel,{position:\"stacked\"},\" What activities have you performed in the last 10 minutes?\"),/*#__PURE__*/React.createElement(IonSelect,{multiple:true,placeholder:\"Select all that apply\",onIonChange:function onIonChange(e){return selectRecentAction(e);}},recentActionOptions.map(function(object,i){return/*#__PURE__*/React.createElement(IonSelectOption,{key:i,value:object.first},object.first);})))),/*#__PURE__*/React.createElement(IonButton,{className:\"SubmitButton\",onClick:postData},\"Submit\"))));};export default Survey;","map":{"version":3,"sources":["/Users/borajoo/Documents/Code/CPTC-Research/thermalComfortApp/src/pages/Survey.tsx"],"names":["IonContent","IonHeader","IonPage","IonTitle","IonToolbar","IonBackButton","IonItem","IonButtons","IonButton","IonInput","IonCard","IonCardHeader","IonCardContent","IonCardTitle","IonLabel","IonSelect","IonSelectOption","React","pushData","request","require","Survey","history","location","state","surveyData","sensationOptions","id","first","breezy","breezyOptions","i","length","push","humiditySensation","humiditySensationOptions","thermalPreference","thermalPreferenceOptions","clothing","clothingOptions","recentAction","recentActionOptions","selectBuildingNumber","e","buildingNumber","detail","value","selectRoomNumber","roomNumber","selectThermalSensation","thermalSensation","selectThermalPreference","selectBreezy","selectHumiditySensation","selectClothing","selectRecentAction","postData","uid","getWeatherData","apiKey","city","url","err","response","body","cod","weatherData","JSON","parse","main","temp","windspeed","wind","speed","humidity","map","object"],"mappings":"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","sourcesContent":["import { IonContent, IonHeader, IonPage, IonTitle, IonToolbar, IonBackButton,\nIonItem, IonButtons, IonNote, IonButton, IonInput, IonCard,\nIonCardHeader, IonCardContent, IonCardTitle, IonLabel, IonSelect,\nIonSelectOption, IonRange } from '@ionic/react';\nimport React from 'react';\nimport \"../style/Login.css\";\nimport \"../style/Survey.css\";\nimport { RouteComponentProps } from 'react-router';\nimport { pushData } from '../firebaseConfig';\nvar request = require('request');\n\nconst Survey: React.FC<RouteComponentProps> = ({history, location}) => {\n\n    const state: any = location.state;\n\n    let surveyData: any = {};\n\n    const sensationOptions = [\n        {\n            id: 1,\n            first: 'Cold',\n        },\n        {\n            id: 2,\n            first: 'Cool',\n        },\n        {\n            id: 3,\n            first: 'Slightly Cool',\n        },\n        {\n            id: 4,\n            first: 'Neutral',\n        },\n        {\n            id: 5,\n            first: 'Slightly Warm',\n        },\n        {\n            id: 6,\n            first: 'Warm',\n        },\n        {\n            id: 7,\n            first:  'Hot',\n        },\n    ];\n\n    let breezy = [\"Too breezy\", \"Slightly breezy\", \"Not breezy\"];\n    let breezyOptions = [];\n    for (let i = 0; i < breezy.length; i++) {\n        breezyOptions.push({id: i +1, first: breezy[i]});\n    }\n\n    let humiditySensation = [\"Too dry\", \"Slightly dry\", \"Just right\", \"Slightly humid\", \"Too humid\"];\n    let humiditySensationOptions = [];\n    for (let i = 0; i < humiditySensation.length; i++) {\n        humiditySensationOptions.push({id: i+1, first: humiditySensation[i]});\n    }\n\n    let thermalPreference = [\"Cooler\", \"No Change\", \"Warmer\"];\n    let thermalPreferenceOptions = [];\n    for (let i = 0; i < thermalPreference.length; i++) {\n        thermalPreferenceOptions.push({id: i+1, first: thermalPreference[i]});\n    }\n\n    let clothing = [\n        \"Short-sleeve shirt\",\n        \"Long-sleeve shirt\",\n        \"Shorts\",\n        \"Long pants\",\n        \"Short skirt\",\n        \"Long skirt\",\n        \"Sweatpants\",\n        \"Long-sleeve sweatshirt\",\n        \"Jacket\",\n        \"Typical summer indoor clothing\",\n        \"Typical winter indoor clothing\"\n    ];\n\n    let clothingOptions = [];\n    for (let i = 0 ; i < clothing.length; i++) {\n        clothingOptions.push({id: i+1, first: clothing[i]});\n    }\n\n    let recentAction = [\n        \"Sitting\",\n        \"Standing\",\n        \"Walking\",\n        \"Jogging\",\n        \"Running\",\n    ];\n\n    let recentActionOptions = [];\n    for (let i = 0 ; i < recentAction.length; i++) {\n        recentActionOptions.push({id: i+1, first: recentAction[i]});\n    }\n\n    function selectBuildingNumber(e:any) {\n        surveyData.buildingNumber = e.detail.value;\n    }\n\n    function selectRoomNumber(e:any) {\n        surveyData.roomNumber = e.detail.value;\n    }\n\n    function selectThermalSensation(e:any) {\n        surveyData.thermalSensation = e.detail.value;\n    }\n\n    function selectThermalPreference(e:any) {\n        surveyData.thermalPreference = e.detail.value;\n    }\n\n    function selectBreezy(e:any) {\n        surveyData.breezy = e.detail.value;\n    }\n\n    function selectHumiditySensation(e:any) {\n        surveyData.humiditySensation = e.detail.value;\n    }\n\n    function selectClothing(e:any) {\n        surveyData.clothing = e.detail.value;\n    }\n\n    function selectRecentAction(e:any) {\n        surveyData.recentAction = e.detail.value;\n    }\n\n    function postData() {\n        if (state.uid) {\n            pushData(surveyData, state.uid);\n            history.push('/surveyComplete')\n        }\n    }\n\n    function getWeatherData(e:any){\n        let apiKey = 'a28b0237f94d95bbd08c26352f7c7bdb';\n        let city = e.detail.value;\n        let url = `http://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${apiKey}`\n        request(url, function (err:any, response:any, body:any) {\n            if(err){\n                return;\n            } else {\n              if (body.cod !== \"404\") {\n                let weatherData = JSON.parse(body);\n                if (weatherData.main) {\n                    surveyData.temp = weatherData.main.temp;\n                    surveyData.windspeed = weatherData.wind.speed;\n                    surveyData.humidity = weatherData.main.humidity;\n                }\n              }\n            }\n          });\n    }\n\n  return (\n  <IonPage>\n    <IonHeader>\n      <IonToolbar>\n        <IonButtons slot=\"start\">\n            <IonBackButton defaultHref=\"/landingPage\" />\n        </IonButtons>\n        <IonTitle>Survey</IonTitle>\n      </IonToolbar>\n    </IonHeader>\n    <IonContent className=\"ion-padding\">\n    <IonCard className=\"surveyCard\">\n        <IonCardHeader>\n          <IonCardTitle>\n            Thermal Questions\n          </IonCardTitle>\n        </IonCardHeader>\n        <IonCardContent>\n          <IonItem>\n              <IonLabel position=\"stacked\"> What building are you in?</IonLabel>\n                <IonInput placeholder=\"Input number (i.e. 01)\" inputmode=\"numeric\" onIonChange= {e => selectBuildingNumber(e)}></IonInput>\n          </IonItem>\n\n          <IonItem>\n              <IonLabel position=\"stacked\"> What room are you in? </IonLabel>\n                <IonInput placeholder=\"Input number (i.e. 0123)\" inputmode=\"numeric\" onIonChange= {e => selectRoomNumber(e)}></IonInput>\n          </IonItem>\n\n          <IonItem>\n            <IonLabel position=\"stacked\" className=\"questionLabel\">How does the temperature feel? </IonLabel>\n            <IonSelect className=\"questionSelect\" placeholder=\"Select one\" onIonChange={e => selectThermalSensation(e)}>\n            {sensationOptions.map((object, i) => {\n                return (\n                <IonSelectOption  onSelect={selectThermalSensation} key={i} value={object.first}>\n                    {object.first}\n                </IonSelectOption>\n                );\n            })}\n            </IonSelect>\n          </IonItem>\n\n          <IonItem>\n              <IonLabel position=\"stacked\"> How would you prefer the temperature to feel? </IonLabel>\n            <IonSelect placeholder=\"Select one\" onIonChange={e => selectThermalPreference(e)}>\n            {thermalPreferenceOptions.map((object, i) => {\n                return (\n                <IonSelectOption key={i} value={object.first}>\n                    {object.first}\n                </IonSelectOption>\n                );\n            })}\n            </IonSelect>\n          </IonItem>\n\n          <IonItem>\n              <IonLabel position=\"stacked\" className=\"surveyLabel\"> How breezy does it feel? </IonLabel>\n            <IonSelect placeholder=\"Select one\" onIonChange={e => selectBreezy(e)}>\n            {breezyOptions.map((object, i) => {\n                return (\n                <IonSelectOption key={i} value={object.first}>\n                    {object.first}\n                </IonSelectOption>\n                );\n            })}\n            </IonSelect>\n          </IonItem>\n\n          <IonItem>\n              <IonLabel position=\"stacked\" className=\"surveyLabel\"> How humid do you feel? </IonLabel>\n            <IonSelect placeholder=\"Select one\" onIonChange={e => selectHumiditySensation(e)}>\n            {humiditySensationOptions.map((object, i) => {\n                return (\n                <IonSelectOption key={i} value={object.first}>\n                    {object.first}\n                </IonSelectOption>\n                );\n            })}\n            </IonSelect>\n          </IonItem>\n\n          <IonItem>\n              <IonLabel position=\"stacked\"> What clothing are you wearing? </IonLabel>\n            <IonSelect multiple={true} placeholder=\"Select all that apply\" onIonChange={e => selectClothing(e)}>\n            {clothingOptions.map((object, i) => {\n                return (\n                <IonSelectOption key={i} value={object.first}>\n                    {object.first}\n                </IonSelectOption>\n                );\n            })}\n            </IonSelect>\n          </IonItem>\n\n          <IonItem>\n              <IonLabel position=\"stacked\"> What activities have you performed in the last 10 minutes?</IonLabel>\n            <IonSelect multiple={true} placeholder=\"Select all that apply\" onIonChange={e => selectRecentAction(e)}>\n            {recentActionOptions.map((object, i) => {\n                return (\n                <IonSelectOption key={i} value={object.first}>\n                    {object.first}\n                </IonSelectOption>\n                );\n            })}\n            </IonSelect>\n          </IonItem>\n\n          </IonCardContent>\n          <IonButton className=\"SubmitButton\" onClick={postData}>\n              Submit\n          </IonButton>\n\n      </IonCard>\n    </IonContent>\n  </IonPage>\n);\n\n};\n\nexport default Survey;"]},"metadata":{},"sourceType":"module"}