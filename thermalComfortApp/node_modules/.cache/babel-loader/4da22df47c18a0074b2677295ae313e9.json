{"ast":null,"code":"import _slicedToArray from\"/Users/gabehyun/Desktop/classes/ThermalComfort/CPTC-Research/thermalComfortApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{IonContent,IonHeader,IonPage,IonTitle,IonToolbar,IonItem,IonLabel,IonCard,IonCardContent,IonCardHeader,IonCardTitle,IonSelect,IonSelectOption,IonInput,IonBackButton,IonButtons,IonButton}from'@ionic/react';import React,{useState,useEffect}from'react';import\"./EditProfilePage.css\";import{toast}from'../../toast';import{pushProfile,getProfile}from'../../firebaseConfig';import{useAuth}from'../../contexts/AuthContext';var SetProfile=function SetProfile(_ref){var history=_ref.history,location=_ref.location;var _useAuth=useAuth(),currentUser=_useAuth.currentUser;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),age=_useState2[0],setAge=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),gender=_useState4[0],setGender=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),zipCode=_useState6[0],setZipCode=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),nativeConditions=_useState8[0],setNativeConditions=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),preferredConditions=_useState10[0],setPrefConditions=_useState10[1];useEffect(function(){// eslint-disable-next-line\ngetProfile(currentUser.email).then(function(document){if(document.exists){var profileData=document.data();console.log(profileData);if(profileData){setAge(profileData.age);setGender(profileData.gender);setZipCode(profileData.zipCode);setNativeConditions(profileData.nativeConditions);setPrefConditions(profileData.prefConditions);}}}).catch(function(error){console.error(error);});},[]);function postProfile(){var profileData={age:age,gender:gender,zipCode:zipCode,nativeConditions:nativeConditions,preferredConditions:preferredConditions};if(currentUser){pushProfile(profileData,currentUser.email);toast(\"Profile updated successfully!\");history.push('/landingPage');}}return/*#__PURE__*/React.createElement(IonPage,null,/*#__PURE__*/React.createElement(IonHeader,null,/*#__PURE__*/React.createElement(IonToolbar,null,/*#__PURE__*/React.createElement(IonButtons,{slot:\"start\"},/*#__PURE__*/React.createElement(IonBackButton,{defaultHref:\"/landingPage\"})),/*#__PURE__*/React.createElement(IonTitle,null,\"Set Profile\"))),/*#__PURE__*/React.createElement(IonContent,{className:\"ion-padding\"},/*#__PURE__*/React.createElement(IonCard,{className:\"surveyCard\"},/*#__PURE__*/React.createElement(IonCardHeader,null,/*#__PURE__*/React.createElement(IonCardTitle,null,\"Please provide some information about yourself for our research.\")),/*#__PURE__*/React.createElement(IonCardContent,null,/*#__PURE__*/React.createElement(IonItem,null,/*#__PURE__*/React.createElement(IonLabel,{position:\"fixed\"},\"Age\"),/*#__PURE__*/React.createElement(IonInput,{className:\"inputField\",value:age,placeholder:\"Enter Number\",\"text-right\":true,inputmode:\"numeric\",onIonChange:function onIonChange(e){return setAge(e.detail.value);}})),/*#__PURE__*/React.createElement(IonItem,null,/*#__PURE__*/React.createElement(IonLabel,null,\"Gender identity\"),/*#__PURE__*/React.createElement(IonSelect,{value:gender,placeholder:\"Select One\",onIonChange:function onIonChange(e){return setGender(e.detail.value);}},/*#__PURE__*/React.createElement(IonSelectOption,{value:\"cisgender female\"},\"Cisgender Female\"),/*#__PURE__*/React.createElement(IonSelectOption,{value:\"cisgender male\"},\"Cisgender Male\"),/*#__PURE__*/React.createElement(IonSelectOption,{value:\"transgender female\"},\"Transgender Female\"),/*#__PURE__*/React.createElement(IonSelectOption,{value:\"transgender male\"},\"Transgender Male\"),/*#__PURE__*/React.createElement(IonSelectOption,{value:\"nonbinary\"},\"Nonbinary\"),/*#__PURE__*/React.createElement(IonSelectOption,{value:\"bigender\"},\"Bigender\"),/*#__PURE__*/React.createElement(IonSelectOption,{value:\"other\"},\"Other\"),/*#__PURE__*/React.createElement(IonSelectOption,{value:\"prefer not to answer\"},\"Prefer not to answer\"))),/*#__PURE__*/React.createElement(IonItem,null,/*#__PURE__*/React.createElement(IonLabel,{className:\"inputLabel\",position:\"fixed\"},\"Zip Code\"),/*#__PURE__*/React.createElement(IonInput,{className:\"inputField\",value:zipCode,placeholder:\"Enter Number\",onIonChange:function onIonChange(e){return setZipCode(e.detail.value);}})),/*#__PURE__*/React.createElement(IonItem,null,/*#__PURE__*/React.createElement(IonLabel,null,\"Native environment conditions\"),/*#__PURE__*/React.createElement(IonSelect,{value:nativeConditions,multiple:true,placeholder:\"Select One\",onIonChange:function onIonChange(e){return setNativeConditions(e.detail.value);}},/*#__PURE__*/React.createElement(IonSelectOption,{value:\"cold\"},\"Cold\"),/*#__PURE__*/React.createElement(IonSelectOption,{value:\"mild\"},\"Mild\"),/*#__PURE__*/React.createElement(IonSelectOption,{value:\"hot\"},\"Hot\"),/*#__PURE__*/React.createElement(IonSelectOption,{value:\"humid\"},\"Humid\"),/*#__PURE__*/React.createElement(IonSelectOption,{value:\"mildly humid\"},\"Mildly humid\"),/*#__PURE__*/React.createElement(IonSelectOption,{value:\"dry\"},\"Dry\"))),/*#__PURE__*/React.createElement(IonItem,null,/*#__PURE__*/React.createElement(IonLabel,null,\"Room condition preferences\"),/*#__PURE__*/React.createElement(IonSelect,{value:preferredConditions,placeholder:\"Select One\",onIonChange:function onIonChange(e){return setPrefConditions(e.detail.value);}},/*#__PURE__*/React.createElement(IonSelectOption,{value:\"very cold\"},\"Very cold\"),/*#__PURE__*/React.createElement(IonSelectOption,{value:\"cold\"},\"Cold\"),/*#__PURE__*/React.createElement(IonSelectOption,{value:\"cool\"},\"Cool\"),/*#__PURE__*/React.createElement(IonSelectOption,{value:\"neutral\"},\"Neutral\"),/*#__PURE__*/React.createElement(IonSelectOption,{value:\"warm\"},\"Warm\"),/*#__PURE__*/React.createElement(IonSelectOption,{value:\"hot\"},\"Hot\"),/*#__PURE__*/React.createElement(IonSelectOption,{value:\"very hot\"},\"Very Hot\")))),/*#__PURE__*/React.createElement(IonButton,{className:\"SubmitButton\",onClick:postProfile},\"Submit\"))));};export default SetProfile;","map":{"version":3,"sources":["/Users/gabehyun/Desktop/classes/ThermalComfort/CPTC-Research/thermalComfortApp/src/Pages/EditProfilePage/EditProfilePage.tsx"],"names":["IonContent","IonHeader","IonPage","IonTitle","IonToolbar","IonItem","IonLabel","IonCard","IonCardContent","IonCardHeader","IonCardTitle","IonSelect","IonSelectOption","IonInput","IonBackButton","IonButtons","IonButton","React","useState","useEffect","toast","pushProfile","getProfile","useAuth","SetProfile","history","location","currentUser","age","setAge","gender","setGender","zipCode","setZipCode","nativeConditions","setNativeConditions","preferredConditions","setPrefConditions","email","then","document","exists","profileData","data","console","log","prefConditions","catch","error","postProfile","push","e","detail","value"],"mappings":"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","sourcesContent":["import { IonContent, IonHeader, IonPage, IonTitle, IonToolbar,\n  IonItem, IonLabel, IonCard, IonCardContent, IonCardHeader, IonCardTitle,\n  IonSelect, IonSelectOption, IonInput, IonBackButton, IonButtons, IonButton }\nfrom '@ionic/react';\nimport React, { useState, useEffect } from 'react';\nimport { RouteComponentProps } from 'react-router';\nimport \"./EditProfilePage.css\";\nimport { toast } from '../../toast';\nimport { pushProfile, getProfile } from '../../firebaseConfig';\nimport { useAuth } from '../../contexts/AuthContext'\n\nconst SetProfile: React.FC<RouteComponentProps> = ({history, location}) => {\n  const { currentUser } = useAuth();\n\n  const [age, setAge] = useState<string>(\"\");\n  const [gender, setGender] = useState<string>(\"\");\n  const [zipCode, setZipCode] = useState<string>(\"\");\n  const [nativeConditions, setNativeConditions] = useState<string>(\"\");\n  const [preferredConditions, setPrefConditions] = useState<string>(\"\");\n\n  useEffect(() => {\n    // eslint-disable-next-line\n    getProfile(currentUser.email).then((document) => {\n      if (document.exists) {\n        const profileData = document.data();\n        console.log(profileData);\n        if (profileData) {\n          setAge(profileData.age);\n          setGender(profileData.gender);\n          setZipCode(profileData.zipCode);\n          setNativeConditions(profileData.nativeConditions);\n          setPrefConditions(profileData.prefConditions);\n        }\n      }\n    }).catch((error) => {\n      console.error(error);\n    });\n  }, []);\n\n  function postProfile() {\n    let profileData: any = {\n      age: age,\n      gender: gender,\n      zipCode: zipCode,\n      nativeConditions: nativeConditions,\n      preferredConditions: preferredConditions\n    };\n\n    if (currentUser) {\n      pushProfile(profileData, currentUser.email);\n      toast(\"Profile updated successfully!\");\n      history.push('/landingPage')\n    }\n  }\n\n  return(\n    <IonPage>\n      <IonHeader>\n        <IonToolbar>\n          <IonButtons slot=\"start\">\n              <IonBackButton defaultHref=\"/landingPage\" />\n          </IonButtons>\n          <IonTitle>Set Profile</IonTitle>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent className=\"ion-padding\">\n        <IonCard className=\"surveyCard\">\n          <IonCardHeader>\n            <IonCardTitle>\n              Please provide some information about yourself for our research.\n            </IonCardTitle>\n          </IonCardHeader>\n          <IonCardContent>\n            <IonItem>\n              <IonLabel position=\"fixed\">Age</IonLabel>\n              <IonInput className=\"inputField\" value={age} placeholder=\"Enter Number\" text-right inputmode=\"numeric\" onIonChange={e => setAge(e.detail.value!)}></IonInput>\n            </IonItem>\n\n            <IonItem>\n              <IonLabel>Gender identity</IonLabel>\n              <IonSelect value={gender} placeholder=\"Select One\" onIonChange={e => setGender(e.detail.value)}>\n                <IonSelectOption value=\"cisgender female\">Cisgender Female</IonSelectOption>\n                <IonSelectOption value=\"cisgender male\">Cisgender Male</IonSelectOption>\n                <IonSelectOption value=\"transgender female\">Transgender Female</IonSelectOption>\n                <IonSelectOption value=\"transgender male\">Transgender Male</IonSelectOption>\n                <IonSelectOption value=\"nonbinary\">Nonbinary</IonSelectOption>\n                <IonSelectOption value=\"bigender\">Bigender</IonSelectOption>\n                <IonSelectOption value=\"other\">Other</IonSelectOption>\n                <IonSelectOption value=\"prefer not to answer\">Prefer not to answer</IonSelectOption>\n              </IonSelect>\n            </IonItem>\n\n            <IonItem>\n              <IonLabel className=\"inputLabel\" position=\"fixed\">Zip Code</IonLabel>\n              <IonInput className=\"inputField\" value={zipCode} placeholder=\"Enter Number\" onIonChange={e => setZipCode(e.detail.value!)}></IonInput>\n            </IonItem>\n\n            <IonItem>\n              <IonLabel>Native environment conditions</IonLabel>\n              <IonSelect value={nativeConditions} multiple={true} placeholder= \"Select One\" onIonChange={e => setNativeConditions(e.detail.value)}>\n                <IonSelectOption value=\"cold\">Cold</IonSelectOption>\n                <IonSelectOption value=\"mild\">Mild</IonSelectOption>\n                <IonSelectOption value=\"hot\">Hot</IonSelectOption>\n                <IonSelectOption value=\"humid\">Humid</IonSelectOption>\n                <IonSelectOption value=\"mildly humid\">Mildly humid</IonSelectOption>\n                <IonSelectOption value=\"dry\">Dry</IonSelectOption>\n              </IonSelect>\n            </IonItem>\n\n            <IonItem>\n              <IonLabel>Room condition preferences</IonLabel>\n              <IonSelect value={preferredConditions} placeholder= \"Select One\" onIonChange={e => setPrefConditions(e.detail.value)}>\n                <IonSelectOption value=\"very cold\">Very cold</IonSelectOption>\n                <IonSelectOption value=\"cold\">Cold</IonSelectOption>\n                <IonSelectOption value=\"cool\">Cool</IonSelectOption>\n                <IonSelectOption value=\"neutral\">Neutral</IonSelectOption>\n                <IonSelectOption value=\"warm\">Warm</IonSelectOption>\n                <IonSelectOption value=\"hot\">Hot</IonSelectOption>\n                <IonSelectOption value=\"very hot\">Very Hot</IonSelectOption>\n              </IonSelect>\n\n            </IonItem>\n            </IonCardContent>\n            <IonButton className=\"SubmitButton\" onClick={postProfile}>\n              Submit\n          </IonButton>\n\n        </IonCard>\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default SetProfile;\n"]},"metadata":{},"sourceType":"module"}