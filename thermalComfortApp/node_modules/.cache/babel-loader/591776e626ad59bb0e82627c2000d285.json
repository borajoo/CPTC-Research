{"ast":null,"code":"import _regeneratorRuntime from\"/Users/gabehyun/Desktop/classes/ThermalComfort/CPTC-Research/thermalComfortApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/gabehyun/Desktop/classes/ThermalComfort/CPTC-Research/thermalComfortApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/gabehyun/Desktop/classes/ThermalComfort/CPTC-Research/thermalComfortApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import\"./Registration.css\";import BaseInputField from\"../../components/BaseInputField/BaseInputField\";import BaseButton from\"../../components/BaseButton/BaseButton\";import BaseCheckbox from\"../../components/BaseCheckbox/BaseCheckbox\";import{useAuth}from'../../contexts/AuthContext';import{toast}from'../../toast';var Registration=function Registration(_ref){var history=_ref.history;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),cpassword=_useState6[0],setCPassword=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),consent=_useState8[0],setConsent=_useState8[1];var _useAuth=useAuth(),signup=_useAuth.signup;var validPassword=function validPassword(){if(password&&password===cpassword)return true;else return false;};var validEmail=function validEmail(){if(email.includes('@')&&email.includes('.')&&email.length>10)return true;else return false;};function handleRegister(){return _handleRegister.apply(this,arguments);}function _handleRegister(){_handleRegister=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;if(validEmail()){_context.next=4;break;}toast(\"Email is not valid\");return _context.abrupt(\"return\");case 4:if(validPassword()){_context.next=7;break;}toast(\"Passwords do not match\");return _context.abrupt(\"return\");case 7:if(consent){_context.next=10;break;}toast(\"Accept Consent Form\");return _context.abrupt(\"return\");case 10:_context.next=12;return signup(email,password);case 12:toast(\"Registration successful!\");history.push(\"/\");_context.next=19;break;case 16:_context.prev=16;_context.t0=_context[\"catch\"](0);toast(\"\".concat(_context.t0));case 19:case\"end\":return _context.stop();}}},_callee,null,[[0,16]]);}));return _handleRegister.apply(this,arguments);}return/*#__PURE__*/React.createElement(\"div\",{className:\"login-page-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"login-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"login-subtitle\"},\"Registration\"),/*#__PURE__*/React.createElement(\"div\",{className:\"login-input\"},/*#__PURE__*/React.createElement(BaseInputField,{width:window.innerWidth<=800?'300px':'350px',value:email,label:'Email Address',iduser:'username',password:false,onChange:function onChange(e){return setEmail(e.target.value);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"login-input\",style:{marginBottom:'5px'}},/*#__PURE__*/React.createElement(BaseInputField,{width:window.innerWidth<=800?'300px':'350px',value:password,label:'Password',iduser:'password',password:true,onChange:function onChange(e){return setPassword(e.target.value);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"login-input\",style:{marginBottom:'5px'}},/*#__PURE__*/React.createElement(BaseInputField,{width:window.innerWidth<=800?'300px':'350px',value:cpassword,label:'Confirm Password',iduser:'confirm-password',password:true,onChange:function onChange(e){return setCPassword(e.target.value);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"consent-checkbox\"},/*#__PURE__*/React.createElement(BaseCheckbox,{label:\"Accept Consent Form\",checked:consent,onChange:function onChange(){setConsent(!consent);}}),/*#__PURE__*/React.createElement(\"a\",{className:\"see-consent\",href:\"https://drive.google.com/file/d/1sAONY3BuhSxu-Iswr90fKoGOrQyWIJEZ/view?usp=sharing\",target:\"_blank\",rel:\"noopener noreferrer\"},\"See Consent Form\")),/*#__PURE__*/React.createElement(\"div\",{className:\"register2-button\"},/*#__PURE__*/React.createElement(BaseButton,{className:\"login-button\",onClick:handleRegister,width:window.innerWidth<=800?'300px':'350px'},\"Register\")),/*#__PURE__*/React.createElement(\"a\",{className:\"return-login\",href:\"/\"},\"Return to Login\")));};export default Registration;","map":{"version":3,"sources":["/Users/gabehyun/Desktop/classes/ThermalComfort/CPTC-Research/thermalComfortApp/src/Pages/Registration/Registration.tsx"],"names":["React","useState","BaseInputField","BaseButton","BaseCheckbox","useAuth","toast","Registration","history","email","setEmail","password","setPassword","cpassword","setCPassword","consent","setConsent","signup","validPassword","validEmail","includes","length","handleRegister","push","window","innerWidth","e","target","value","marginBottom"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport \"./Registration.css\";\nimport BaseInputField from \"../../components/BaseInputField/BaseInputField\";\nimport BaseButton from \"../../components/BaseButton/BaseButton\";\nimport BaseCheckbox from \"../../components/BaseCheckbox/BaseCheckbox\";\nimport { useAuth } from '../../contexts/AuthContext'\nimport { RouteComponentProps } from 'react-router';\nimport { toast } from '../../toast';\n\nconst Registration: React.FC<RouteComponentProps> = ({history}) => {\n  const [email, setEmail] = useState<string>('');\n  const [password, setPassword] = useState('');\n  const [cpassword, setCPassword] = useState('');\n  const [consent, setConsent] = useState(false);\n  const { signup } = useAuth();\n\n  let validPassword = () => {\n    if (password && password === cpassword)\n      return true;\n    else\n      return false;\n  };\n\n  let validEmail = () => {\n    if(email.includes('@') && email.includes('.') && email.length > 10)\n        return true;\n    else\n        return false;\n  }\n\n  async function handleRegister() {\n    try {\n    if (!validEmail()) {\n        toast(\"Email is not valid\");\n        return;\n        }\n      if (!validPassword()) {\n        toast(\"Passwords do not match\");\n        return;\n      }\n      if (!consent) {\n        toast(\"Accept Consent Form\");\n        return;\n      }\n      await signup(email, password);\n      toast(\"Registration successful!\");\n      history.push(\"/\");\n    } catch (error) {\n      toast(`${error}`);\n    }\n  }\n\n  return (\n    <div className=\"login-page-container\">\n      <div className=\"login-container\">\n        <div className=\"login-subtitle\">\n          Registration\n        </div>\n        <div className=\"login-input\">\n          <BaseInputField\n            width={window.innerWidth <= 800 ? '300px' : '350px'}\n            value={email}\n            label={'Email Address'}\n            iduser={'username'}\n            password={false}\n            onChange={(e: any) => setEmail(e.target.value)}\n          />\n        </div>\n        <div className=\"login-input\" style={{marginBottom: '5px'}}>\n          <BaseInputField\n              width={window.innerWidth <= 800 ? '300px' : '350px'}\n              value={password}\n              label={'Password'}\n              iduser={'password'}\n              password={true}\n              onChange={(e: any) => setPassword(e.target.value)}\n          />\n        </div>\n        <div className=\"login-input\" style={{marginBottom: '5px'}}>\n          <BaseInputField\n              width={window.innerWidth <= 800 ? '300px' : '350px'}\n              value={cpassword}\n              label={'Confirm Password'}\n              iduser={'confirm-password'}\n              password={true}\n              onChange={(e: any) => setCPassword(e.target.value)}\n          />\n        </div>\n        <div className=\"consent-checkbox\">\n          <BaseCheckbox\n            label={\"Accept Consent Form\"}\n            checked={consent}\n            onChange={() => {\n              setConsent(!consent);\n            }}\n          />\n          <a className=\"see-consent\" href=\"https://drive.google.com/file/d/1sAONY3BuhSxu-Iswr90fKoGOrQyWIJEZ/view?usp=sharing\" target=\"_blank\" rel=\"noopener noreferrer\">See Consent Form</a>\n        </div>\n        <div className=\"register2-button\">\n          <BaseButton className=\"login-button\" onClick={handleRegister} width={window.innerWidth <= 800 ? '300px' : '350px'}>Register</BaseButton>\n        </div>\n        <a className=\"return-login\" href=\"/\">Return to Login</a>\n      </div>\n    </div>\n  );\n};\n\nexport default Registration;"]},"metadata":{},"sourceType":"module"}