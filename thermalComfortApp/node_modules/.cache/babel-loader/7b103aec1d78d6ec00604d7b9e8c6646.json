{"ast":null,"code":"import _regeneratorRuntime from\"/Users/gabehyun/Desktop/classes/ThermalComfort/CPTC-Research/thermalComfortApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/gabehyun/Desktop/classes/ThermalComfort/CPTC-Research/thermalComfortApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/gabehyun/Desktop/classes/ThermalComfort/CPTC-Research/thermalComfortApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{IonContent,IonHeader,IonPage,IonTitle,IonToolbar,IonButtons,IonBackButton,IonItem,IonButton,IonInput,IonCard,IonCardHeader,IonCardContent,IonCardTitle,IonLabel,IonCheckbox}from'@ionic/react';import React,{useState}from'react';import{toast}from'../../toast';import\"./RegistrationPage.css\";import{useAuth}from\"../../contexts/AuthContext\";var Home=function Home(_ref){var history=_ref.history;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),cpassword=_useState6[0],setCPassword=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),terms=_useState8[0],setTerms=_useState8[1];var _useAuth=useAuth(),signup=_useAuth.signup;var checkBox=function checkBox(e){setTerms(e.detail.checked);};var validPassword=function validPassword(){if(password&&password===cpassword)return true;else return false;};function handleRegister(){return _handleRegister.apply(this,arguments);}function _handleRegister(){_handleRegister=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;if(validPassword()){_context.next=4;break;}toast(\"Passwords do not match\");return _context.abrupt(\"return\");case 4:_context.next=6;return signup(email,password);case 6:toast(\"Registration successful!\");history.push(\"/\");_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);toast(\"Error registering: \".concat(_context.t0));case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return _handleRegister.apply(this,arguments);}return/*#__PURE__*/React.createElement(IonPage,null,/*#__PURE__*/React.createElement(IonHeader,null,/*#__PURE__*/React.createElement(IonToolbar,null,/*#__PURE__*/React.createElement(IonButtons,{slot:\"start\"},/*#__PURE__*/React.createElement(IonBackButton,{defaultHref:\"/home\"})),/*#__PURE__*/React.createElement(IonTitle,null,/*#__PURE__*/React.createElement(\"h3\",{className:\"title\"},\"Register\")))),/*#__PURE__*/React.createElement(IonContent,{className:\"ion-padding\"},/*#__PURE__*/React.createElement(IonCard,{className:\"LoginCard\"},/*#__PURE__*/React.createElement(IonCardHeader,null,/*#__PURE__*/React.createElement(IonCardTitle,null,\"Register\")),/*#__PURE__*/React.createElement(IonCardContent,null,/*#__PURE__*/React.createElement(IonItem,null,/*#__PURE__*/React.createElement(IonLabel,{position:\"stacked\"},\"Email\"),/*#__PURE__*/React.createElement(IonInput,{placeholder:\"Email\",value:email,onIonChange:function onIonChange(e){return setEmail(e.target.value);}})),/*#__PURE__*/React.createElement(IonItem,null,/*#__PURE__*/React.createElement(IonLabel,{position:\"stacked\"},\"Password\"),/*#__PURE__*/React.createElement(IonInput,{type:\"password\",placeholder:\"Password\",value:password,onIonChange:function onIonChange(e){return setPassword(e.target.value);}})),/*#__PURE__*/React.createElement(IonItem,null,/*#__PURE__*/React.createElement(IonLabel,{position:\"stacked\"},\"Confirm Password\"),/*#__PURE__*/React.createElement(IonInput,{type:\"password\",placeholder:\"Confirm Password\",value:cpassword,onIonChange:function onIonChange(e){return setCPassword(e.target.value);}})),/*#__PURE__*/React.createElement(IonItem,null,/*#__PURE__*/React.createElement(IonCheckbox,{onIonChange:checkBox}),/*#__PURE__*/React.createElement(IonLabel,null,/*#__PURE__*/React.createElement(\"a\",{href:\"https://cptc-website.s3.us-east-2.amazonaws.com/consent_form_pdf.pdf\"},\"Accept Terms and Conditions\"))),/*#__PURE__*/React.createElement(IonButton,{className:\"LoginButton\",onClick:function onClick(){return handleRegister();},disabled:!terms&&!validPassword(),routerLink:\"/registration\"},\"Register\")))));};export default Home;","map":{"version":3,"sources":["/Users/gabehyun/Desktop/classes/ThermalComfort/CPTC-Research/thermalComfortApp/src/Pages/RegistrationPage/RegistrationPage.tsx"],"names":["IonContent","IonHeader","IonPage","IonTitle","IonToolbar","IonButtons","IonBackButton","IonItem","IonButton","IonInput","IonCard","IonCardHeader","IonCardContent","IonCardTitle","IonLabel","IonCheckbox","React","useState","toast","useAuth","Home","history","email","setEmail","password","setPassword","cpassword","setCPassword","terms","setTerms","signup","checkBox","e","detail","checked","validPassword","handleRegister","push","target","value"],"mappings":"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","sourcesContent":["import { IonContent, IonHeader, IonPage, IonTitle, IonToolbar, IonButtons,\n  IonBackButton, IonItem, IonButton, IonInput, IonCard, IonCardHeader,\n  IonCardContent, IonCardTitle, IonLabel, IonCheckbox } from '@ionic/react';\nimport React, { useState } from 'react';\nimport { toast } from '../../toast';\nimport \"./RegistrationPage.css\";\nimport { RouteComponentProps } from 'react-router';\nimport { useAuth } from \"../../contexts/AuthContext\";\n\nconst Home: React.FC<RouteComponentProps> = ({history}) => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [cpassword, setCPassword] = useState('');\n  const [terms, setTerms] = useState(false);\n  const { signup } = useAuth();\n\n  let checkBox = (e: any) => {\n    setTerms(e.detail.checked);\n  };\n\n  let validPassword = () => {\n    if (password && password === cpassword)\n      return true;\n    else\n      return false;\n  };\n\n  async function handleRegister() {\n    try {\n      if (!validPassword()) {\n        toast(\"Passwords do not match\");\n        return;\n      }\n      await signup(email, password);\n      toast(\"Registration successful!\");\n      history.push(\"/\");\n    } catch (error) {\n      toast(`Error registering: ${error}`);\n    }\n  }\n\n  return (\n    <IonPage>\n      <IonHeader>\n        <IonToolbar>\n        <IonButtons slot=\"start\">\n            <IonBackButton defaultHref=\"/home\" />\n        </IonButtons>\n          <IonTitle>\n            <h3 className=\"title\">Register</h3>\n          </IonTitle>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent className=\"ion-padding\">\n        <IonCard className=\"LoginCard\">\n          <IonCardHeader>\n            <IonCardTitle>\n              Register\n            </IonCardTitle>\n          </IonCardHeader>\n\n          <IonCardContent>\n            <IonItem>\n              <IonLabel position=\"stacked\">Email</IonLabel>\n              <IonInput\n                placeholder=\"Email\"\n                value={email}\n                onIonChange={(e: any) => setEmail(e.target.value)}\n              />\n            </IonItem>\n\n            <IonItem>\n              <IonLabel position=\"stacked\">Password</IonLabel>\n              <IonInput\n                type=\"password\"\n                placeholder=\"Password\"\n                value={password}\n                onIonChange={(e: any) => setPassword(e.target.value)}\n              />\n            </IonItem>\n\n            <IonItem>\n              <IonLabel position=\"stacked\">Confirm Password</IonLabel>\n              <IonInput\n              type=\"password\"\n              placeholder=\"Confirm Password\"\n              value={cpassword}\n              onIonChange={(e: any) => setCPassword(e.target.value)}\n              />\n            </IonItem>\n            <IonItem>\n              <IonCheckbox onIonChange={checkBox}></IonCheckbox>\n              <IonLabel>\n                <a href=\"https://cptc-website.s3.us-east-2.amazonaws.com/consent_form_pdf.pdf\">\n                Accept Terms and Conditions</a>\n              </IonLabel>\n            </IonItem>\n            <IonButton className=\"LoginButton\" onClick={() => handleRegister()}\n             disabled={!terms && !(validPassword())}\n             routerLink=\"/registration\">\n              Register</IonButton>\n          </IonCardContent>\n        </IonCard>\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default Home;\n\n\n\n"]},"metadata":{},"sourceType":"module"}