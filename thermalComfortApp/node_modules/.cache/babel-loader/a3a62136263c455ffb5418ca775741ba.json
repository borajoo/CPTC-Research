{"ast":null,"code":"import _slicedToArray from\"/Users/gabehyun/Desktop/classes/ThermalComfort/CPTC-Research/thermalComfortApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import'./EditProfile.css';import BaseButton from'../BaseButton/BaseButton';import BaseInputField from'../BaseInputField/BaseInputField';import BaseSelectOne from'../BaseSelectOne/BaseSelectOne';import SecondaryButton from\"../../components/SecondaryButton/SecondaryButton\";import{pushProfile,getProfile}from'../../firebaseConfig';import{useAuth}from'../../contexts/AuthContext';import{toast}from'../../toast';function EditProfile(props){var toggleState=props.toggleState,updateState=props.updateState;var _useAuth=useAuth(),currentUser=_useAuth.currentUser;var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),trySubmit=_React$useState2[0],setTrySubmit=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),calPolyStatus=_React$useState4[0],setCalPolyStatus=_React$useState4[1];var _React$useState5=React.useState(''),_React$useState6=_slicedToArray(_React$useState5,2),biologicalSex=_React$useState6[0],setBiologicalSex=_React$useState6[1];var _React$useState7=React.useState(''),_React$useState8=_slicedToArray(_React$useState7,2),genderIdentification=_React$useState8[0],setGenderIdentification=_React$useState8[1];var _React$useState9=React.useState(''),_React$useState10=_slicedToArray(_React$useState9,2),ethnicity=_React$useState10[0],setEthnicity=_React$useState10[1];var _React$useState11=React.useState(''),_React$useState12=_slicedToArray(_React$useState11,2),disability=_React$useState12[0],setDisability=_React$useState12[1];var _React$useState13=React.useState(''),_React$useState14=_slicedToArray(_React$useState13,2),age=_React$useState14[0],setAge=_React$useState14[1];var _React$useState15=React.useState(''),_React$useState16=_slicedToArray(_React$useState15,2),indoorThermalPreference=_React$useState16[0],setIndoorThermalPreference=_React$useState16[1];var _React$useState17=React.useState(''),_React$useState18=_slicedToArray(_React$useState17,2),response=_React$useState18[0],setResponse=_React$useState18[1];React.useEffect(function(){//populate with current profile data if any\ngetProfile(currentUser.email).then(function(document){if(document.exists){var _profileData=document.data();if(_profileData){setCalPolyStatus(_profileData.calPolyStatus);setBiologicalSex(_profileData.biologicalSex);setGenderIdentification(_profileData.genderIdentification);setEthnicity(_profileData.ethnicity);setDisability(_profileData.disability);setAge(_profileData.age);setEconomicSituation(_profileData.economicSituation);setChildhoodClimate(_profileData.childhoodClimate);setIndoorThermalPreference(_profileData.indoorThermalPreference);setResponse(_profileData.response);}}}).catch(function(error){console.error(error);});},[updateState]);var canSubmit=true;var profileData={};function postProfile(){setTrySubmit(true);if(currentUser){calPolyStatus!==''?profileData.calPolyStatus=calPolyStatus:canSubmit=false;biologicalSex!==''?profileData.biologicalSex=biologicalSex:canSubmit=false;genderIdentification!==''?profileData.genderIdentification=genderIdentification:canSubmit=false;ethnicity!==''?profileData.ethnicity=ethnicity:canSubmit=false;disability!==''?profileData.disability=disability:canSubmit=false;age!==''?profileData.age=age:canSubmit=false;economicSituation!==''?profileData.economicSituation=economicSituation:canSubmit=false;childhoodClimate!==''?profileData.childhoodClimate=childhoodClimate:canSubmit=false;indoorThermalPreference!==''?profileData.indoorThermalPreference=indoorThermalPreference:canSubmit=false;profileData.response=response;if(canSubmit){try{pushProfile(profileData,currentUser.email);toast(\"Thank you! Profile edited successfully.\");}catch(error){toast(\"Error editing profile: \".concat(error));}toggleState();}else{toast('Please answer all of the non-optional questions before submitting.');}}}var calPolyStatusList=[{id:1,val:'Student'},{id:2,val:'Faculty'}];var biologicalSexList=[{id:1,val:'Male'},{id:2,val:'Female'},{id:3,val:'Intersex'},{id:4,val:'Prefer Not to Say'}];var genderIdentificationList=[{id:1,val:'Male'},{id:2,val:'Female'},{id:3,val:'Non-binary/Genderqueer'},{id:4,val:'Gender Fluid'},{id:5,val:'Other'},{id:6,val:'Prefer Not to Say'}];var ethnicityList=[{id:1,val:'African American'},{id:2,val:'Asian American'},{id:3,val:'European American / Caucasian'},{id:4,val:'Latinx'},{id:5,val:'Middle Eastern'},{id:6,val:'Native American'},{id:7,val:'Native Hawaiian/Pacific Islander'},{id:8,val:'Mixed Race [2/+ races]'},{id:9,val:'Prefer Not to Say'}];var disabilityList=[{id:1,val:'Yes'},{id:2,val:'No'},{id:3,val:'Prefer Not to Say'}];var economicSituationList=[{id:1,val:'High income: Very well off, never financial uncertainty'},{id:2,val:'Upper middle income: Well off, no financial uncertainty, significant savings including retirement'},{id:3,val:'Middle income: Moderate financial security, concern for bigger/unexpected items,living expenses covered, minimal savings'},{id:4,val:'Lower middle income: living expenses mostly paid, living paycheck to paycheck, no savings'},{id:5,val:'Low income: Unsure if all bills will be paid, food insecurity, may have been homeless at some point'},{id:6,val:'Prefer Not to Say'}];var _React$useState19=React.useState(''),_React$useState20=_slicedToArray(_React$useState19,2),economicSituation=_React$useState20[0],setEconomicSituation=_React$useState20[1];var childhoodClimateList=[{id:1,val:'Mild summers and mild winters'},{id:2,val:'Hot summers and mild winters'},{id:3,val:'Mild summers and severe winters'},{id:4,val:'Hot summers and severe winters'}];var _React$useState21=React.useState(''),_React$useState22=_slicedToArray(_React$useState21,2),childhoodClimate=_React$useState22[0],setChildhoodClimate=_React$useState22[1];var indoorThermalPreferenceList=[{id:1,val:'Very Cold'},{id:2,val:'Cold'},{id:3,val:'Cool'},{id:4,val:'Neutral / “Room Temperature”'},{id:5,val:'Warm'},{id:6,val:'Hot'},{id:7,val:'Very Hot'}];return/*#__PURE__*/React.createElement(\"div\",{className:\"editprofile-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"top-buttons\"},/*#__PURE__*/React.createElement(SecondaryButton,{onClick:toggleState},\"Back\")),/*#__PURE__*/React.createElement(\"h1\",null,\"Edit Profile\"),/*#__PURE__*/React.createElement(\"p\",null,\"What is your status at Cal Poly?\"),/*#__PURE__*/React.createElement(BaseSelectOne,{optionsList:calPolyStatusList,value:calPolyStatus,onChange:function onChange(e){return setCalPolyStatus(e.target.value);},err:trySubmit&&calPolyStatus===''}),/*#__PURE__*/React.createElement(\"p\",null,\"What biological sex were you assigned at birth?\"),/*#__PURE__*/React.createElement(BaseSelectOne,{optionsList:biologicalSexList,value:biologicalSex,onChange:function onChange(e){return setBiologicalSex(e.target.value);},err:trySubmit&&biologicalSex===''}),/*#__PURE__*/React.createElement(\"p\",null,\"What is your gender identification?\"),/*#__PURE__*/React.createElement(BaseSelectOne,{optionsList:genderIdentificationList,value:genderIdentification,onChange:function onChange(e){return setGenderIdentification(e.target.value);},err:trySubmit&&genderIdentification===''}),/*#__PURE__*/React.createElement(\"p\",null,\"What is your ethnicity?\"),/*#__PURE__*/React.createElement(BaseSelectOne,{optionsList:ethnicityList,value:ethnicity,onChange:function onChange(e){return setEthnicity(e.target.value);},err:trySubmit&&ethnicity===''}),/*#__PURE__*/React.createElement(\"p\",null,\"Do you have a disability?\"),/*#__PURE__*/React.createElement(BaseSelectOne,{optionsList:disabilityList,value:disability,onChange:function onChange(e){return setDisability(e.target.value);},err:trySubmit&&disability===''}),/*#__PURE__*/React.createElement(\"div\",{className:\"baseinput-div\"},/*#__PURE__*/React.createElement(BaseInputField,{label:'What is your age? (Ex: 19)',iduser:'age',width:'300px',value:age,onChange:function onChange(e){return setAge(e.target.value);},err:trySubmit&&age===''})),/*#__PURE__*/React.createElement(\"p\",null,\"What is your family\\u2019s or was your childhood economic situation?\"),/*#__PURE__*/React.createElement(BaseSelectOne,{optionsList:economicSituationList,value:economicSituation,onChange:function onChange(e){return setEconomicSituation(e.target.value);},err:trySubmit&&economicSituation===''}),/*#__PURE__*/React.createElement(\"p\",null,\"What climate did you grow up in [ages 0-10]?\"),/*#__PURE__*/React.createElement(BaseSelectOne,{optionsList:childhoodClimateList,value:childhoodClimate,onChange:function onChange(e){return setChildhoodClimate(e.target.value);},err:trySubmit&&childhoodClimate===''}),/*#__PURE__*/React.createElement(\"p\",null,\"Indoor Room Condition Thermal Comfort Preference?\"),/*#__PURE__*/React.createElement(BaseSelectOne,{optionsList:indoorThermalPreferenceList,value:indoorThermalPreference,onChange:function onChange(e){return setIndoorThermalPreference(e.target.value);},err:trySubmit&&indoorThermalPreference===''}),/*#__PURE__*/React.createElement(\"div\",{className:\"baseinput-div\"},/*#__PURE__*/React.createElement(BaseInputField,{label:'Do you feel that one of the questions did not have a suitable answer to represent you? If so please explain. (OPTIONAL)',iduser:'room',width:'300px',value:response,onChange:function onChange(e){return setResponse(e.target.value);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"editprofile-submit\"},/*#__PURE__*/React.createElement(BaseButton,{width:'300px',onClick:postProfile},\"Submit\")));};export default EditProfile;","map":{"version":3,"sources":["/Users/gabehyun/Desktop/classes/ThermalComfort/CPTC-Research/thermalComfortApp/src/components/EditProfile/EditProfile.tsx"],"names":["React","BaseButton","BaseInputField","BaseSelectOne","SecondaryButton","pushProfile","getProfile","useAuth","toast","EditProfile","props","toggleState","updateState","currentUser","useState","trySubmit","setTrySubmit","calPolyStatus","setCalPolyStatus","biologicalSex","setBiologicalSex","genderIdentification","setGenderIdentification","ethnicity","setEthnicity","disability","setDisability","age","setAge","indoorThermalPreference","setIndoorThermalPreference","response","setResponse","useEffect","email","then","document","exists","profileData","data","setEconomicSituation","economicSituation","setChildhoodClimate","childhoodClimate","catch","error","console","canSubmit","postProfile","calPolyStatusList","id","val","biologicalSexList","genderIdentificationList","ethnicityList","disabilityList","economicSituationList","childhoodClimateList","indoorThermalPreferenceList","e","target","value"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './EditProfile.css';\nimport BaseButton from '../BaseButton/BaseButton'\nimport BaseInputField from '../BaseInputField/BaseInputField';\nimport BaseSelectOne from '../BaseSelectOne/BaseSelectOne';\nimport SecondaryButton from \"../../components/SecondaryButton/SecondaryButton\";\nimport { pushProfile, getProfile } from '../../firebaseConfig';\nimport { useAuth } from '../../contexts/AuthContext'\nimport { toast } from '../../toast'\n\n\nfunction EditProfile(props: any) {\n  const { toggleState, updateState } = props;\n  const { currentUser } = useAuth();\n\n  const [trySubmit, setTrySubmit] = React.useState(false);\n  \n  const [calPolyStatus, setCalPolyStatus] = React.useState('');\n  const [biologicalSex, setBiologicalSex] = React.useState('');\n  const [genderIdentification, setGenderIdentification] = React.useState('');\n  const [ethnicity, setEthnicity] = React.useState('');\n  const [disability, setDisability] = React.useState('');\n  const [age, setAge] = React.useState('');\n  const [indoorThermalPreference, setIndoorThermalPreference] = React.useState('');\n  const [response, setResponse] = React.useState('');\n\n  React.useEffect(() => { //populate with current profile data if any\n    getProfile(currentUser.email).then((document) => {\n      if (document.exists) {\n        const profileData = document.data();\n        if (profileData) {\n          setCalPolyStatus(profileData.calPolyStatus);\n          setBiologicalSex(profileData.biologicalSex);\n          setGenderIdentification(profileData.genderIdentification);\n          setEthnicity(profileData.ethnicity);\n          setDisability(profileData.disability);\n          setAge(profileData.age);\n          setEconomicSituation(profileData.economicSituation);\n          setChildhoodClimate(profileData.childhoodClimate);\n          setIndoorThermalPreference(profileData.indoorThermalPreference);\n          setResponse(profileData.response);\n        }\n      }\n    }).catch((error) => {\n      console.error(error);\n    });\n  }, [updateState]);\n\n  let canSubmit = true;\n  let profileData: any = {};\n\n  function postProfile() {\n    setTrySubmit(true);\n    if (currentUser) {\n      calPolyStatus !== '' ? profileData.calPolyStatus = calPolyStatus : canSubmit = false;\n      biologicalSex !== '' ? profileData.biologicalSex = biologicalSex : canSubmit = false;\n      genderIdentification !== '' ? profileData.genderIdentification = genderIdentification : canSubmit = false;\n      ethnicity !== '' ? profileData.ethnicity = ethnicity : canSubmit = false;\n      disability !== '' ? profileData.disability = disability : canSubmit = false;\n      age !== '' ? profileData.age = age : canSubmit = false;\n      economicSituation !== '' ? profileData.economicSituation = economicSituation : canSubmit = false;\n      childhoodClimate !== '' ? profileData.childhoodClimate = childhoodClimate : canSubmit = false;\n      indoorThermalPreference !== '' ? profileData.indoorThermalPreference = indoorThermalPreference : canSubmit = false;\n      profileData.response = response;\n\n      if(canSubmit){\n        try {\n          pushProfile(profileData, currentUser.email);\n          toast(`Thank you! Profile edited successfully.`);\n        }\n        catch(error) {\n          toast(`Error editing profile: ${error}`);\n        }\n        toggleState();\n      }\n      else {\n        toast('Please answer all of the non-optional questions before submitting.');\n      }\n    }\n  }\n\n  const calPolyStatusList = [\n    {id: 1, val: 'Student'},\n    {id: 2, val: 'Faculty'},\n  ]\n  const biologicalSexList = [\n    {id: 1, val: 'Male'},\n    {id: 2, val: 'Female'},\n    {id: 3, val: 'Intersex'},\n    {id: 4, val: 'Prefer Not to Say'},\n  ]\n  const genderIdentificationList = [\n    {id: 1, val: 'Male'},\n    {id: 2, val: 'Female'},\n    {id: 3, val: 'Non-binary/Genderqueer'},\n    {id: 4, val: 'Gender Fluid'},\n    {id: 5, val: 'Other'},\n    {id: 6, val: 'Prefer Not to Say'},\n  ]\n  const ethnicityList = [\n    {id: 1, val: 'African American'},\n    {id: 2, val: 'Asian American'},\n    {id: 3, val: 'European American / Caucasian'},\n    {id: 4, val: 'Latinx'},\n    {id: 5, val: 'Middle Eastern'},\n    {id: 6, val: 'Native American'},\n    {id: 7, val: 'Native Hawaiian/Pacific Islander'},\n    {id: 8, val: 'Mixed Race [2/+ races]'},\n    {id: 9, val: 'Prefer Not to Say'},\n  ]\n  const disabilityList = [\n    {id: 1, val: 'Yes'},\n    {id: 2, val: 'No'},\n    {id: 3, val: 'Prefer Not to Say'},\n  ]\n  const economicSituationList = [\n    {id: 1, val: 'High income: Very well off, never financial uncertainty'},\n    {id: 2, val: 'Upper middle income: Well off, no financial uncertainty, significant savings including retirement'},\n    {id: 3, val: 'Middle income: Moderate financial security, concern for bigger/unexpected items,living expenses covered, minimal savings'},\n    {id: 4, val: 'Lower middle income: living expenses mostly paid, living paycheck to paycheck, no savings'},\n    {id: 5, val: 'Low income: Unsure if all bills will be paid, food insecurity, may have been homeless at some point'},\n    {id: 6, val: 'Prefer Not to Say'},\n  ]\n  const [economicSituation, setEconomicSituation] = React.useState('');\n\n  const childhoodClimateList = [\n    {id: 1, val: 'Mild summers and mild winters'},\n    {id: 2, val: 'Hot summers and mild winters'},\n    {id: 3, val: 'Mild summers and severe winters'},\n    {id: 4, val: 'Hot summers and severe winters'},\n  ]\n  const [childhoodClimate, setChildhoodClimate] = React.useState('');\n\n  const indoorThermalPreferenceList = [\n    {id: 1, val: 'Very Cold'},\n    {id: 2, val: 'Cold'},\n    {id: 3, val: 'Cool'},\n    {id: 4, val: 'Neutral / “Room Temperature”'},\n    {id: 5, val: 'Warm'},\n    {id: 6, val: 'Hot'},\n    {id: 7, val: 'Very Hot'},\n  ]\n\n  return (\n    <div className=\"editprofile-container\">\n      <div className=\"top-buttons\">\n            <SecondaryButton onClick={toggleState}>Back</SecondaryButton>\n        </div>\n      <h1>Edit Profile</h1>\n      <p>What is your status at Cal Poly?</p>\n      <BaseSelectOne\n        optionsList={calPolyStatusList}\n        value={calPolyStatus}\n        onChange={(e: any) => setCalPolyStatus(e.target.value)}\n        err={trySubmit && calPolyStatus === ''}\n      />\n      <p>What biological sex were you assigned at birth?</p>\n      <BaseSelectOne\n        optionsList={biologicalSexList}\n        value={biologicalSex}\n        onChange={(e: any) => setBiologicalSex(e.target.value)}\n        err={trySubmit && biologicalSex === ''}\n      />\n      <p>What is your gender identification?</p>\n      <BaseSelectOne\n        optionsList={genderIdentificationList}\n        value={genderIdentification}\n        onChange={(e: any) => setGenderIdentification(e.target.value)}\n        err={trySubmit && genderIdentification === ''}\n      />\n      <p>What is your ethnicity?</p>\n      <BaseSelectOne\n        optionsList={ethnicityList}\n        value={ethnicity}\n        onChange={(e: any) => setEthnicity(e.target.value)}\n        err={trySubmit && ethnicity === ''}\n      />\n      <p>Do you have a disability?</p>\n      <BaseSelectOne\n        optionsList={disabilityList}\n        value={disability}\n        onChange={(e: any) => setDisability(e.target.value)}\n        err={trySubmit && disability === ''}\n      />\n      <div className=\"baseinput-div\">\n        <BaseInputField\n          label={'What is your age? (Ex: 19)'}\n          iduser={'age'}\n          width={'300px'}\n          value={age}\n          onChange={(e: any) => setAge(e.target.value)}\n          err={trySubmit && age === ''}\n        />\n      </div>\n      <p>What is your family’s or was your childhood economic situation?</p>\n      <BaseSelectOne\n        optionsList={economicSituationList}\n        value={economicSituation}\n        onChange={(e: any) => setEconomicSituation(e.target.value)}\n        err={trySubmit && economicSituation === ''}\n      />\n      <p>What climate did you grow up in [ages 0-10]?</p>\n      <BaseSelectOne\n        optionsList={childhoodClimateList}\n        value={childhoodClimate}\n        onChange={(e: any) => setChildhoodClimate(e.target.value)}\n        err={trySubmit && childhoodClimate === ''}\n      />\n      <p>Indoor Room Condition Thermal Comfort Preference?</p>\n      <BaseSelectOne\n        optionsList={indoorThermalPreferenceList}\n        value={indoorThermalPreference}\n        onChange={(e: any) => setIndoorThermalPreference(e.target.value)}\n        err={trySubmit && indoorThermalPreference === ''}\n      />\n      <div className=\"baseinput-div\">\n        <BaseInputField\n          label={'Do you feel that one of the questions did not have a suitable answer to represent you? If so please explain. (OPTIONAL)'}\n          iduser={'room'}\n          width={'300px'}\n          value={response}\n          onChange={(e: any) => setResponse(e.target.value)}\n        />\n      </div>\n      <div className='editprofile-submit'>\n        <BaseButton width={'300px'} onClick={postProfile}>Submit</BaseButton>\n      </div>\n    </div>\n  )\n};\n\nexport default EditProfile"]},"metadata":{},"sourceType":"module"}